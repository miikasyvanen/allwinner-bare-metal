#include "audio.h"
#include "system.h"

void audio_hdmi_init(void)
{
	HDMI_REG8(0x1063) = 0xF0;
	HDMI_REG8(0x1065) = 0xEE;
	HDMI_REG8(0x1066) = 0x00;
	HDMI_REG8(0x1067) = 0x30;
	HDMI_REG8(0x1068) = 0x00;
	HDMI_REG8(0x1069) = 0x01;
	HDMI_REG8(0x106a) = 0x42;
	HDMI_REG8(0x106b) = 0x86;
	HDMI_REG8(0x106c) = 0x31;
	HDMI_REG8(0x106d) = 0x75;
	HDMI_REG8(0x106e) = 0x01;
	HDMI_REG8(0x106e) = 0x00;	// yes, twice
	HDMI_REG8(0x106f) = 0x02;

	HDMI_REG8(0x3101) = 0x10;
	HDMI_REG8(0x3200) = 0x80;
	HDMI_REG8(0x3201) = 0x18;
	HDMI_REG8(0x3202) = 0x00;
	HDMI_REG8(0x3205) = 0x00;
	HDMI_REG8(0x3206) = 0x04;

	HDMI_REG8(0x1063) = 0x00;
	HDMI_REG8(0x1025) = 0x10;
	HDMI_REG8(0x1026) = 0x00;
	HDMI_REG8(0x1027) = 0x00;
	HDMI_REG8(0x1028) = 0x00;

	HDMI_REG8(0x3103) = 0x00;
	HDMI_REG8(0x3100) = 0x00;

	HDMI_MC_CLKDIS = 0x74 | 0x08;
	HDMI_REG8(0x4002) = 0xF7;
	udelay(200);
	HDMI_REG8(0x3100) = 0xAF;
	udelay(200);
	HDMI_MC_CLKDIS = 0x74 | 0x00;
}
